<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/assets/styles.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
 
    <title>Document</title>
</head>
<body class="bg-white w-100 h-100">
    <div style="position:relative; margin-top: -10px;">
      <div class="text-center text-black d-flex justify-content-center align-items-center">
        <img src="../static/assets/KSI Logo.png" style="width:15%; height:15%;">
        <h1> KSI Collision Dashboard </h1>
      </div>
    </div>
    
    <div class="text-center px-4">
        <div class="row row-cols-12 d-flex align-items-center justify-content-evenly">
            <div class="chart border border-2 border-dark width_div col-4 rounded-3">
              <iframe src="./static/assets/Non_Fatal.html" width="100%" height="250"></iframe>
            </div>
            <div class="chart border border-2 border-dark width_div col-4 rounded-3">
              <canvas id="myChart_Bar"></canvas>
            </div>
        </div>
        <div class="row row-cols-12 d-flex align-items-center justify-content-evenly">
          <div class="chart border border-2 border-dark width_div col-4 rounded-3">
              <canvas id="myChart_HBar"></canvas>
          </div>
          <div class="chart border border-2 border-dark width_div col-4 rounded-3">
            <canvas id="myChart_Roundedbar"></canvas>
          </div>
      </div>
    </div>
    <div class="d-flex mt-4 justify-content-center">
      <a href="/predict" class="btn btn-success right border border-2 border-black"> Make a Prediction </a>
    </div>

</body>
<script>
const bar = document.getElementById('myChart_Bar');
new Chart(bar, {
    type: 'bar',
    data: {
    labels: ['Etobicoke York', 'North York', 'Scarborough', 'Toronto East York', 'Toronto and East York'],
    datasets: [{
      label: 'DISTRICT',
      data: [4207, 3637, 4116, 4, 6125],
      borderColor:'rgba(221, 4, 38, 1)',
      backgroundColor:'rgba(221, 4, 138, 0.6)',
      borderWidth: 1
    }]
    },
    options: {
      plugins: {
          title: {
            display: false,
            
          }
        },
        scales: {
          y: {
            beginAtZero: true
          }
        }
    }
  });
//   2006   1483
// 1   2007   1474
// 4   2008   1239
// 3   2009   1242
// 6   2010   1190
// 7   2011   1179
// 2   2012   1348
// 5   2013   1232
// 13  2014    916
// 12  2015    929
// 9   2016   1006
// 10  2017    980
// 8   2018   1074
// 11  2019    940
// 15  2020    640
// 16  2021    621
// 14  2022    701

  const roundedbar = document.getElementById('myChart_Roundedbar');
  new Chart(roundedbar, {
        type: 'bar',
        data: {
        labels: ['Collector', 'Expressway', 'Expressway Ramp', 'Laneway', 'Local', 'Major Arterial', 'Major Arterial Ramp', 'Minor Arterial', 'Pending', 'Other'],
        datasets: [{
          label: 'ROAD CLASS',
          data: [996, 132, 9, 11, 841, 12956, 1, 2840, 7, 25],
          borderWidth: 1,
          borderRadius: 50,
          borderColor:'rgba(76, 224, 210, 1)',
          backgroundColor:'rgba(76, 224, 100, 0.6)'
        }]
        },
        options: {
          plugins: {
              title: {
                display: false,
              }
            },
            scales: {
              y: {
                beginAtZero: false
              }
            }
    }
  });
  const Hbar = document.getElementById('myChart_HBar');
new Chart(Hbar, {
    type: 'bar',
    data: {
    labels: ['Fatal', 'Non Fatal'],
    datasets: [{
      label: 'ACCLASS',
      data: [2573, 15599],
      borderWidth: 1,
      borderColor:'rgba(71, 15, 244, 1)',
      backgroundColor:'rgba(71, 15, 144, 0.6)',
    }]
    },
    options: {
      indexAxis: 'y',
      plugins: {
        legend: {
        position: 'right',
      },
          title: {
            display: false,
            
          }
        },
        scales: {
          y: {
            beginAtZero: true
          }
        }
    }
  });

</script>
</html>